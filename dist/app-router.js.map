{"version":3,"sources":["../src/app-router.js"],"names":["START_TIME","Date","Approuter","app","setupRouter","bind","console","log","get","req","res","next","json","started","fromNow","post","body","models","user","create","then","status","catch","error","err"],"mappings":";;;;;;;;;AAAA;;;;;;;;AACO,IAAMA,kCAAa,IAAIC,IAAJ,EAAnB;;IACcC,S;AAEjB,uBAAYC,GAAZ,EAAgB;AAAA;;AACZ,aAAKA,GAAL,GAAWA,GAAX;;AAEA,aAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,aAAKD,WAAL;AACH;;;;sCAEY;;AAET,gBAAMD,MAAM,KAAKA,GAAjB;;AAEAG,oBAAQC,GAAR,CAAY,kBAAZ;;AAGA;;;;;AAKCJ,gBAAIK,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9B,uBAAOD,IAAIE,IAAJ,CAAS;AACZC,6BAAS,sBAAOb,UAAP,EAAmBc,OAAnB;AADG,iBAAT,CAAP;AAIF,aALD;;AAOD;;;;;AAKCX,gBAAIY,IAAJ,CAAS,YAAT,EAAuB,UAACN,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;;AAExC,oBAAMK,OAAOP,IAAIO,IAAjB;;AAEAb,oBAAIc,MAAJ,CAAWC,IAAX,CAAgBC,MAAhB,CAAuBH,IAAvB,EAA6BI,IAA7B,CAAkC,UAACF,IAAD,EAAU;;AAExC,2BAAOR,IAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqBM,IAArB,CAAP;AAEH,iBAJD,EAIGI,KAJH,CAIS,eAAO;;AAEZ,2BAAOZ,IAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB,EAACW,OAAOC,GAAR,EAArB,CAAP;AAEH,iBARD;AAUF,aAdD;AAmBJ;;;;;;kBApDgBtB,S","file":"app-router.js","sourcesContent":["import moment from 'moment';\r\nexport const START_TIME = new Date();\r\nexport default class Approuter{\r\n\r\n    constructor(app){\r\n        this.app = app;\r\n\r\n        this.setupRouter = this.setupRouter.bind(this);\r\n        this.setupRouter();\r\n    }\r\n\r\n    setupRouter(){\r\n        \r\n        const app = this.app;\r\n\r\n        console.log(\"App router works\")\r\n\r\n        \r\n        /**\r\n         * @endpoint /\r\n         * method should be GET @method: GET\r\n         **/\r\n\r\n         app.get('/', (req, res, next) => {\r\n            return res.json({\r\n                started: moment(START_TIME).fromNow(),\r\n            })\r\n\r\n         });\r\n\r\n        /**\r\n         * @endpoint /api/users\r\n         *  @method: POST\r\n         **/\r\n\r\n         app.post('/api/users', (req, res, next) => {\r\n\r\n            const body = req.body;\r\n\r\n            app.models.user.create(body).then((user) => {\r\n\r\n                return res.status(200).json(user);\r\n\r\n            }).catch(err => {\r\n\r\n                return res.status(503).json({error: err});\r\n\r\n            })\r\n            \r\n         })\r\n\r\n\r\n\r\n\r\n    }\r\n}"]}